
<template name="heatmapReport">
    {{> reportBackButton }}

    <div class="report-section-wrapper">
        <!--<div class="report-section-wrapper__slide-track">-->
            <!--<div class="report-section-wrapper__slide">-->

        <section data-slide-id="params" class="report-section report-section--select">
            <h3>
                Classroom: {{>environmentSelect environments=environments}}
            </h3>

            {{#if environmentChosen }}
                <h2>Choose one or more observations.</h2>
                <p>You can select multiple observations by holding down the control key (command on mac) and clicking more observations.</p>
                <p>Drag the graph to see earlier or later observations.</p>
                <div class="report-select__options report-select__options--observations">
                    <div id="vis-container"></div>
                </div>
            {{/if}}


            {{#if observationNames}} <h3>Observations: {{ observationNames }}</h3> {{/if }}

            <div class="heatmap-report-wrapper">
                <div class="heatmap-report">
                    <div class="heatmap-report__graph">
                        {{#if students }}
                        <h3>Click on a student to see more details.</h3>
                        <div class="subjects" id="heatmap-d3-wrapper">

                        </div>
                        {{/if}}
                    </div>
                    <div class="heatmap-report__graph-key"></div>
                    <div class="heatmap-report__graph-stat">{{#if totalContributions}}<h4>Total contributions: {{totalContributions}}</h4>{{/if}}</div>
                    <div class="heatmap-report__filters">
                        {{#if showFilters}}
                            <div class="filters__wrapper">
                            {{#each filter in demographic_filters }}
                                {{> demographicHeatmapFilter filter=filter }}
                            {{/each}}
                            </div>
                        {{/if}}
                    </div>
                    <div class="heatmap-report__sort">
                        {{#if showFilters}}
                            {{>heatmapReportSort demoParams=demographic_filters }}
                        {{/if}}
                    </div>
                    <div class="heatmap-report__student-spotlight {{#if selectedStudent}} student-spotlight--active {{/if}}">
                        {{> studentSpotlight selectedStudent=selectedStudent discourseparams=discourseparams multipleObservationsChosen=multipleObservationsChosen}}
                    </div>
                </div>
            </div>
        </section>
            <!--</div>-->
        <!--</div>-->
    </div>
</template>